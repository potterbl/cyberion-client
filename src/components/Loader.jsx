import React, {useEffect} from 'react';

import '../styles/Loader.css'
import anime from "animejs";

const Loader = () => {

    useEffect(() => {
        if (!navigator.userAgent.match(/(iPad|iPhone|iPod)/gi)) {
            const circleAnimation = anime({
                targets: '#circle',
                keyframes: [
                    {translateX: '50%', duration: 1000, delay: 500},
                    {translateX: '50%', duration: 1000},
                ],
                easing: 'easeInQuad',
                loop: true
            })

            const nAnimation = anime({
                targets: '#n',
                keyframes: [
                    {opacity: 0, duration: 0},
                    {opacity: 1, duration: 500},
                    {opacity: 0, duration: 1000},
                    {opacity: 0, duration: 1000}
                ],
                easing: 'easeInQuad',
                loop: true
            })

            const wrapperAnimation = anime({
                targets: '#wrapper',
                keyframes: [
                    {rotate: '180deg', duration: 1000, delay: 1500}
                ],
                easing: 'easeInQuad',
                loop: true
            })

            return () => {
                circleAnimation.pause()
                wrapperAnimation.pause()
                nAnimation.pause()
            }
        }
    }, [])

    return (
        <div className="loader">
            <div className="loader-content">
                <svg width={window.innerWidth < 526 ? "100%" : "295"} viewBox="0 0 814 162" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M40.3901 124.306C28.9564 113.395 22.2308 97.71 22.9034 81.3433C22.2308 64.9765 28.9564 49.2917 40.3901 38.3805C52.4962 26.7874 67.2927 21.3318 84.7794 21.3318C102.266 21.3318 119.753 26.7874 138.585 37.0166V13.1484C118.408 4.2831 100.248 0.191406 84.1068 0.191406C60.567 0.191406 40.3901 7.69284 24.2485 23.3777C8.10691 38.3805 -0.636443 59.5209 0.0361228 81.3433C0.0361228 95.6642 3.39895 109.303 10.7972 121.578C17.5228 133.853 27.6113 144.083 39.7175 150.902C51.8237 157.721 66.6201 161.813 84.1068 161.813C103.611 162.495 123.116 157.721 140.602 148.174V122.942C122.443 134.535 104.284 140.673 84.7794 140.673C67.2927 141.355 52.4962 135.899 40.3901 124.306Z"
                        fill="white"/>
                    <path
                        d="M240.817 56.7863L198.446 2.23047H171.543L229.384 76.5628V160.443H252.251V76.5628L310.092 2.23047H282.516L240.817 56.7863Z"
                        fill="white"/>
                    <path
                        d="M412.318 76.5628C428.46 69.7434 435.858 58.8322 435.858 43.1474C436.531 27.4626 427.787 13.8236 413.663 7.00411C406.938 3.59436 396.849 2.23047 383.398 2.23047H343.044V160.442H396.177C406.265 161.124 416.354 158.397 425.77 154.305C433.168 150.895 439.221 145.44 443.929 138.62C447.964 132.483 449.982 124.981 449.982 116.798C449.982 107.251 446.619 97.7032 439.893 90.2018C431.823 83.3823 422.407 78.6087 412.318 76.5628ZM365.239 22.007H384.743C403.575 22.007 413.663 29.5084 413.663 44.5113C413.663 51.3308 410.973 58.1502 406.265 62.2419C401.557 67.0156 392.814 69.0614 380.708 69.0614H365.911V22.007H365.239ZM422.407 128.391C419.716 132.483 416.354 135.21 411.646 137.256C407.61 139.302 398.867 139.984 386.761 139.984H364.566V89.5199H385.416C396.849 89.5199 404.92 90.2018 409.628 92.2477C414.336 93.6115 418.371 97.0213 421.734 101.113C424.424 105.205 425.77 109.296 425.77 114.07C426.442 119.526 425.097 124.299 422.407 128.391Z"
                        fill="white"/>
                    <path
                        d="M511.86 90.8838H575.754V70.4253H511.86V22.007H578.444V2.23047H489.666V159.761H580.462V139.984H511.86V90.8838Z"
                        fill="white"/>
                    <path
                        d="M737.835 46.5571C737.835 13.8236 711.605 2.23047 679.994 2.23047H629.552V160.443H652.419V93.6116H677.977L715.64 160.443H739.18L699.499 90.8838C721.021 86.1101 737.835 71.1073 737.835 46.5571ZM652.419 22.007H677.304C701.516 22.007 714.968 30.1904 714.968 46.5571C714.968 64.2878 701.516 73.1531 677.304 73.1531H652.419V22.007Z"
                        fill="white"/>
                    <path d="M813.839 2.23047H791.645V160.443H813.839V2.23047Z" fill="white"/>
                </svg>
                <svg width={window.innerWidth < 526 ? "100%" : "182"} viewBox="0 0 294 145" fill="none" xmlns="http://www.w3.org/2000/svg" id="wrapper">
                    <path
                        d="M228.127 8.28318C259.759 7.86902 285.809 35.6177 286.181 70.8212C286.553 106.025 261.62 135.016 229.988 135.43C229.244 135.43 228.871 135.43 228.127 135.43H64.0121C32.38 136.672 6.32998 108.51 5.95783 73.3061C5.58569 38.1026 30.5193 9.11149 62.1514 8.28318C62.8957 8.28318 63.2678 8.28318 64.0121 8.28318L228.127 8.28318ZM228.127 0L64.0121 0C28.2864 0.414159 -0.368559 33.5469 0.0035841 73.3061C0.375727 112.237 28.6586 143.713 64.0121 144.541H228.127C263.853 144.956 293.252 113.48 293.996 73.3061C294.368 33.5469 266.086 0.828318 229.988 0C229.616 0 228.871 0 228.127 0Z"
                        fill="#FFED00"/>
                    <path
                        d="M211.986 24.5449L224.727 24.5449V120.545H212.808L149.104 46.476V120.131H136.364V24.5449H147.46L211.575 99.0277L211.986 24.5449Z"
                        fill="white" id="n"/>
                    <path
                        d="M71.5909 121.909C98.6277 121.909 120.545 99.8081 120.545 72.5453C120.545 45.2825 98.6277 23.1816 71.5909 23.1816C44.554 23.1816 22.6364 45.2825 22.6364 72.5453C22.6364 99.8081 44.554 121.909 71.5909 121.909Z"
                        fill="#FFED00" id="circle"/>
                </svg>

            </div>
        </div>
    );
};

export default Loader;
